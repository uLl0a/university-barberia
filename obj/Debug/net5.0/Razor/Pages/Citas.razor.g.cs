#pragma checksum "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "435541fb00cf9dd0b641ab9d2661c06db784a870"
// <auto-generated/>
#pragma warning disable 1591
namespace SISTEMA.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\_Imports.razor"
using SISTEMA;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\_Imports.razor"
using SISTEMA.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
using System.Collections;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
using MySql.Data.MySqlClient;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/Citas")]
    public partial class Citas : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
#nullable restore
#line 5 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
 if(AddMode == true){


#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(0, "<link rel=\"stylesheet\" href=\"css/Caseform.css\">\r\n    ");
            __builder.OpenElement(1, "div");
            __builder.AddAttribute(2, "class", "container");
#nullable restore
#line 9 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
          
        if(EditMode == true){

#line default
#line hidden
#nullable disable
            __builder.OpenElement(3, "div");
            __builder.AddAttribute(4, "class", "title");
            __builder.AddContent(5, " Editar cita #");
            __builder.AddContent(6, 
#nullable restore
#line 11 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                              cita_id

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 12 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
        }else{

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(7, "<div class=\"title\"> Registrar una nueva cita</div>");
#nullable restore
#line 14 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
        }
        

#line default
#line hidden
#nullable disable
            __builder.OpenElement(8, "form");
            __builder.AddAttribute(9, "action", "Citas");
            __builder.AddAttribute(10, "method", "get");
            __builder.OpenElement(11, "div");
            __builder.AddAttribute(12, "class", "content");
#nullable restore
#line 18 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
         if(AddMode == true && EditMode == false){

#line default
#line hidden
#nullable disable
            __builder.OpenElement(13, "div");
            __builder.AddMarkupContent(14, "<label for=\"cliente_id\">Cliente</label>\r\n                ");
            __builder.OpenElement(15, "select");
            __builder.AddAttribute(16, "required");
            __builder.AddAttribute(17, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 21 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                               cliente_id

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(18, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => cliente_id = __value, cliente_id));
            __builder.SetUpdatesAttributeName("value");
#nullable restore
#line 22 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                 for (int i = 0; i < Clientes.Count; i++)
                {   
                    int index = i + 1;

#line default
#line hidden
#nullable disable
            __builder.OpenElement(19, "option");
            __builder.AddAttribute(20, "label", 
#nullable restore
#line 25 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                   Clientes[i]

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(21, "value", 
#nullable restore
#line 25 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                      index

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 26 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(22, "\r\n            ");
            __builder.OpenElement(23, "div");
            __builder.AddMarkupContent(24, "<label for=\"empleado_id\">Empleado</label>\r\n                ");
            __builder.OpenElement(25, "select");
            __builder.AddAttribute(26, "name", "empleado_id");
            __builder.AddAttribute(27, "id", "empleado_id");
            __builder.AddAttribute(28, "required");
            __builder.AddAttribute(29, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 31 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                                   empleado_id

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(30, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => empleado_id = __value, empleado_id));
            __builder.SetUpdatesAttributeName("value");
#nullable restore
#line 32 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                 for (int i = 0; i < Empleados.Count; i++)
                {   
                    int index = i + 1;

#line default
#line hidden
#nullable disable
            __builder.OpenElement(31, "option");
            __builder.AddAttribute(32, "label", 
#nullable restore
#line 35 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                   Empleados[i]

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(33, "value", 
#nullable restore
#line 35 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                       index

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 36 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 39 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(34, "\r\n            ");
            __builder.OpenElement(35, "div");
            __builder.AddAttribute(36, "class", "content");
            __builder.AddMarkupContent(37, "<label for=\"date\">Fecha para la cita</label>\r\n                ");
            __builder.OpenElement(38, "input");
            __builder.AddAttribute(39, "type", "datetime");
            __builder.AddAttribute(40, "name", "date");
            __builder.AddAttribute(41, "id", "date");
            __builder.AddAttribute(42, "required");
            __builder.AddAttribute(43, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 43 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                                    fecha

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(44, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => fecha = __value, fecha));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(45, "\r\n            ");
            __builder.OpenElement(46, "div");
            __builder.AddAttribute(47, "class", "content");
            __builder.AddMarkupContent(48, "<label for=\"tipo_caso\">Estado de la cita</label>\r\n                ");
            __builder.OpenElement(49, "select");
            __builder.AddAttribute(50, "name", "tipo_caso");
            __builder.AddAttribute(51, "id", "tipo_caso");
            __builder.AddAttribute(52, "required");
            __builder.AddAttribute(53, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 47 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                               estado_id

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(54, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => estado_id = __value, estado_id));
            __builder.SetUpdatesAttributeName("value");
#nullable restore
#line 48 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                 for (int i = 0; i < Estados.Count; i++)
                {   
                    int index = i + 1;

#line default
#line hidden
#nullable disable
            __builder.OpenElement(55, "option");
            __builder.AddAttribute(56, "label", 
#nullable restore
#line 51 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                   Estados[i]

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(57, "value", 
#nullable restore
#line 51 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                     index

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 52 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(58, "\r\n        ");
            __builder.OpenElement(59, "div");
            __builder.AddAttribute(60, "style", "text-align:center;width: 300px;margin: 2% auto;");
            __builder.AddMarkupContent(61, "<button class=\"btn btn-secondary\" type=\"reset\"> Limpiar </button>");
#nullable restore
#line 57 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                  
                    if(EditMode == true){

#line default
#line hidden
#nullable disable
            __builder.OpenElement(62, "button");
            __builder.AddAttribute(63, "class", "btn btn-primary");
            __builder.AddAttribute(64, "type", "submit");
            __builder.AddAttribute(65, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 59 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                                                UpdateCita

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(66, "Guardar");
            __builder.CloseElement();
#nullable restore
#line 60 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                    }else{

#line default
#line hidden
#nullable disable
            __builder.OpenElement(67, "button");
            __builder.AddAttribute(68, "class", "btn btn-success");
            __builder.AddAttribute(69, "type", "submit");
            __builder.AddAttribute(70, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 61 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                                                SaveCita

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(71, "Registrar");
            __builder.CloseElement();
#nullable restore
#line 62 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                    }
                

#line default
#line hidden
#nullable disable
            __builder.OpenElement(72, "button");
            __builder.AddAttribute(73, "class", "btn btn-danger");
            __builder.AddAttribute(74, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 64 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                         CancelarModo

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(75, " Cancelar ");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 68 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"

}else {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(76, "<link rel=\"stylesheet\" href=\"css/index.css\">\r\n");
            __builder.OpenElement(77, "div");
            __builder.AddAttribute(78, "class", "container");
            __builder.OpenElement(79, "div");
            __builder.AddAttribute(80, "class", "recents");
            __builder.OpenElement(81, "div");
            __builder.AddAttribute(82, "class", "cases-card-header");
            __builder.AddMarkupContent(83, "<h2>Historial de citas</h2>\r\n            ");
            __builder.OpenElement(84, "div");
            __builder.AddAttribute(85, "class", "btnBar");
            __builder.OpenElement(86, "button");
            __builder.AddAttribute(87, "class", "btn btn-save");
            __builder.AddAttribute(88, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 76 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                           ChangeStateToAddMode

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(89, "Agregar");
            __builder.CloseElement();
            __builder.AddMarkupContent(90, "\r\n                    ");
            __builder.OpenElement(91, "input");
            __builder.AddAttribute(92, "type", "number");
            __builder.AddAttribute(93, "name", "CasoID");
            __builder.AddAttribute(94, "id", "CasoID");
            __builder.AddAttribute(95, "placeholder", "Instroduce un ID para editar o eliminar el registro");
            __builder.AddAttribute(96, "required");
            __builder.AddAttribute(97, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 77 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                                                                                                            cita_id

#line default
#line hidden
#nullable disable
            , culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(98, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => cita_id = __value, cita_id, culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(99, "\r\n                    ");
            __builder.OpenElement(100, "button");
            __builder.AddAttribute(101, "class", "btn btn-edit");
            __builder.AddAttribute(102, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 78 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                           ChangeStateToEditMode

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(103, "Editar");
            __builder.CloseElement();
            __builder.AddMarkupContent(104, "\r\n                    ");
            __builder.OpenElement(105, "button");
            __builder.AddAttribute(106, "class", "btn");
            __builder.AddAttribute(107, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 79 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                                                  FindCita

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(108, "Filtrar");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(109, "\r\n        ");
            __builder.OpenComponent<SISTEMA.Shared.Datagrind>(110);
            __builder.AddAttribute(111, "table", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Data.DataTable>(
#nullable restore
#line 82 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
                          CitasTable

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseComponent();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 85 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 87 "C:\Users\University\Documents\Universidad\Septimo trimestre\INGENIERIA DE SOFTWARE II\PROYECTO FINAL\SISTEMA\Pages\Citas.razor"
       
    bool AddMode = false;
    bool EditMode = false;
    int cita_id = 0;
    int cliente_id = 0;
    int empleado_id = 0;
    int estado_id = 0;
    DateTime fecha;

    System.Data.DataTable CitasTable = new System.Data.DataTable();
    System.Collections.ArrayList Clientes = new ArrayList();
    System.Collections.ArrayList Empleados = new ArrayList();
    System.Collections.ArrayList Estados = new ArrayList();
    void ChangeStateToAddMode(){
        AddMode = !AddMode;
    }

    void ChangeStateToEditMode(){
        if(cita_id <= 0){
            return;
        }
        try{
            System.Data.DataTable table = dbaccess.ReadDataThroughtAdapter($"SELECT * FROM Citas WHERE id = {cita_id}");
            estado_id = (int)Convert.ChangeType(table.Rows[0]["estado"].ToString(), (typeof(int)));
            fecha = DateTime.Parse(table.Rows[0]["fecha"].ToString());
            AddMode = !AddMode;
            EditMode = !EditMode;
        }catch(Exception e){
            Console.WriteLine(e);
        }

    }

    void CancelarModo(){
        AddMode = false;
        EditMode = false;
    }

    protected async override Task OnInitializedAsync(){
        try{
            CitasTable = dbaccess.ReadDataThroughtAdapter("SELECT Citas.id AS ID, empleados.nombre AS Empleado, clientes.nombre AS Cliente, Estadoscitas.nombre AS Estado, fecha AS 'Fecha y Hora' FROM clientes, Estadoscitas, citas, empleados WHERE empleados.id = citas.empleado AND clientes.id = citas.cliente AND Estadoscitas.id = Citas.estado;");
            Clientes = dbaccess.GetListFromDataBase("SELECT nombre FROM Clientes;", "nombre");
            Empleados = dbaccess.GetListFromDataBase("SELECT nombre FROM Empleados;", "nombre");
            Estados = dbaccess.GetListFromDataBase("SELECT nombre FROM Estadoscitas;", "nombre");
        }catch(Exception e){
            Console.WriteLine(e);
        }
    }

    void SaveCita()
    {
        if(estado_id <= 0 || cliente_id <= 0 || empleado_id <= 0)
        {
            return;
        }

        try{
            MySqlCommand command = new MySqlCommand("INSERT INTO Citas(cliente,empleado,fecha,estado) VALUES (@m_cliente_id,@m_empleado_id,@m_fecha,@m_estado_id);");
            command.Parameters.AddWithValue("@m_cliente_id",cliente_id);
            command.Parameters.AddWithValue("@m_empleado_id",empleado_id);
            command.Parameters.AddWithValue("@m_fecha",fecha);
            command.Parameters.AddWithValue("@m_estado_id",estado_id);

            if(dbaccess.ExecuteQuery(command) != -1){
                Console.WriteLine("Cita registrada correctamente");
            }
        }catch{
            Console.WriteLine("Error al momento de registrar la cita");
        } 
    AddMode = !AddMode;
    }

    void UpdateCita()
    {
    if(estado_id <= 0)
        {
            return;
        }

        try{
            MySqlCommand command = new MySqlCommand("UPDATE Citas SET estado=@m_estado_id, fecha=@m_fecha WHERE id=@m_id;");
            command.Parameters.AddWithValue("@m_estado_id",estado_id);
            command.Parameters.AddWithValue("@m_fecha",fecha);
            command.Parameters.AddWithValue("@m_id",cita_id);

            if(dbaccess.ExecuteQuery(command) != -1){
                Console.WriteLine("Cita registrada correctamente");
            }
        }catch{
            Console.WriteLine("Error al momento de registrar la cita");
        } 
    AddMode = !AddMode;
    EditMode = !EditMode;
    }

    void FindCita(){
        if(cita_id <=0){
            return;
        }
        CitasTable = dbaccess.ReadDataThroughtAdapter($"SELECT Citas.id AS ID, empleados.nombre AS Empleado, clientes.nombre AS Cliente, Estadoscitas.nombre AS Estado, fecha AS 'Fecha y Hora' FROM clientes, Estadoscitas, citas, empleados WHERE empleados.id = citas.empleado AND clientes.id = citas.cliente AND Estadoscitas.id = Citas.estado AND Citas.id = {cita_id}");
    }


#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
